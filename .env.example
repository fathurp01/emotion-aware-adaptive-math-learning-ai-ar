# Environment Variables Template
#
# Copy this file to .env and fill in your actual values.
# NEVER commit .env to version control!

# Database Configuration (MySQL)
DATABASE_URL="mysql://username:password@localhost:3306/emotion_learning_db"

# Google Gemini AI API Key
# Get your key from: https://makersuite.google.com/app/apikey
GEMINI_API_KEY="your_gemini_api_key_here"

# Gemini model name (optional)
# If you see a 404 for the model, run `npm run health-check` to list available models
GEMINI_MODEL="gemini-2.0-flash"

# Quota-friendly Gemini settings (optional)
# Smaller output tokens = cheaper/quicker responses
GEMINI_MAX_OUTPUT_TOKENS="256"
# Lower temperature = more deterministic + tends to be shorter
GEMINI_TEMPERATURE="0.2"

# Optional: avoid consuming generateContent quota during startup health checks
# Set to "1" to skip the test prompt call.
GEMINI_HEALTHCHECK_SKIP_GENERATE="1"

# Mistral AI (fallback when Gemini quota is blocked)
MISTRAL_API_KEY="your_mistral_api_key_here"
MISTRAL_MODEL="mistral-small-latest"
MISTRAL_MAX_TOKENS="256"
MISTRAL_TEMPERATURE="0.2"
# Optional: skip generate test during health-check
MISTRAL_HEALTHCHECK_SKIP_GENERATE="1"

# Next.js Configuration
NEXT_PUBLIC_APP_URL="http://localhost:3000"

# NextAuth Configuration (for authentication)
NEXTAUTH_SECRET="generate_a_random_secret_here"
NEXTAUTH_URL="http://localhost:3000"

# =====================================
# Material Content Pre-generation (Global)
# =====================================
# When enabled, the server will (best-effort) refine material content ONCE and
# persist it to DB at startup so all users see the same final content.
# NOTE: This updates Material.content in-place.
MATERIAL_PRECOMPUTE_ON_STARTUP="1"
# Safety cap per startup run
MATERIAL_PRECOMPUTE_LIMIT="500"
# Set to "1" to force re-generation even if refinedAt is already set
MATERIAL_PRECOMPUTE_FORCE="0"

# Allow longer refined material outputs without changing quiz behavior.
# Max supported by code: 64..2048
MATERIAL_REFINE_MAX_OUTPUT_TOKENS="1536"